.. note::
    :class: sphx-glr-download-link-note

    Click :ref:`here <sphx_glr_download_auto_examples_02_decoding_plot_haxby_different_estimators.py>` to download the full example code
.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_02_decoding_plot_haxby_different_estimators.py:


Different classifiers in decoding the Haxby dataset
=====================================================

Here we compare different classifiers on a visual object recognition
decoding task.

We start by loading the data and applying simple transformations to it
-----------------------------------------------------------------------


.. code-block:: default


    # Fetch data using nilearn dataset fetcher
    from nilearn import datasets
    from nilearn.image import get_data
    # by default 2nd subject data will be fetched
    haxby_dataset = datasets.fetch_haxby()

    # print basic information on the dataset
    print('First subject anatomical nifti image (3D) located is at: %s' %
          haxby_dataset.anat[0])
    print('First subject functional nifti image (4D) is located at: %s' %
          haxby_dataset.func[0])

    # load labels
    import numpy as np
    import pandas as pd
    labels = pd.read_csv(haxby_dataset.session_target[0], sep=" ")
    stimuli = labels['labels']
    # identify resting state labels in order to be able to remove them
    task_mask = (stimuli != 'rest')

    # find names of remaining active labels
    categories = stimuli[task_mask].unique()

    # extract tags indicating to which acquisition run a tag belongs
    session_labels = labels['chunks'][task_mask]

    # Load the fMRI data
    from nilearn.input_data import NiftiMasker

    # For decoding, standardizing is often very important
    mask_filename = haxby_dataset.mask_vt[0]
    masker = NiftiMasker(mask_img=mask_filename, standardize=True)
    func_filename = haxby_dataset.func[0]
    masked_timecourses = masker.fit_transform(
        func_filename)[task_mask]






.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    First subject anatomical nifti image (3D) located is at: /home/kc/nilearn_data/haxby2001/subj2/anat.nii.gz
    First subject functional nifti image (4D) is located at: /home/kc/nilearn_data/haxby2001/subj2/bold.nii.gz




Then we define the various classifiers that we use
---------------------------------------------------
A support vector classifier


.. code-block:: default

    from sklearn.svm import SVC
    svm = SVC(C=1., kernel="linear")

    # The logistic regression
    from sklearn.linear_model import (LogisticRegression,
                                      RidgeClassifier,
                                      RidgeClassifierCV,
                                      )
    logistic = LogisticRegression(C=1., penalty="l1", solver='liblinear')
    logistic_50 = LogisticRegression(C=50., penalty="l1", solver='liblinear')
    logistic_l2 = LogisticRegression(C=1., penalty="l2", solver='liblinear')

    # Cross-validated versions of these classifiers
    from sklearn.model_selection import GridSearchCV
    # GridSearchCV is slow, but note that it takes an 'n_jobs' parameter that
    # can significantly speed up the fitting process on computers with
    # multiple cores
    svm_cv = GridSearchCV(SVC(C=1., kernel="linear"),
                          param_grid={'C': [.1, 1., 10., 100.]},
                          scoring='f1', n_jobs=1, cv=3, iid=False)

    logistic_cv = GridSearchCV(
            LogisticRegression(C=1., penalty="l1", solver='liblinear'),
            param_grid={'C': [.1, 1., 10., 100.]},
            scoring='f1', cv=3, iid=False,
            )
    logistic_l2_cv = GridSearchCV(
            LogisticRegression(C=1., penalty="l2", solver='liblinear'),
            param_grid={
                'C': [.1, 1., 10., 100.]
                },
            scoring='f1', cv=3, iid=False,
            )

    # The ridge classifier has a specific 'CV' object that can set it's
    # parameters faster than using a GridSearchCV
    ridge = RidgeClassifier()
    ridge_cv = RidgeClassifierCV()

    # A dictionary, to hold all our classifiers
    classifiers = {'SVC': svm,
                   'SVC cv': svm_cv,
                   'log l1': logistic,
                   'log l1 50': logistic_50,
                   'log l1 cv': logistic_cv,
                   'log l2': logistic_l2,
                   'log l2 cv': logistic_l2_cv,
                   'ridge': ridge,
                   'ridge cv': ridge_cv
                   }








Here we compute prediction scores
----------------------------------
Run time for all these classifiers


.. code-block:: default


    # Make a data splitting object for cross validation
    from sklearn.model_selection import LeaveOneGroupOut, cross_val_score
    cv = LeaveOneGroupOut()

    import time

    classifiers_scores = {}

    for classifier_name, classifier in sorted(classifiers.items()):
        classifiers_scores[classifier_name] = {}
        print(70 * '_')

        for category in categories:
            classification_target = stimuli[task_mask].isin([category])
            t0 = time.time()
            classifiers_scores[classifier_name][category] = cross_val_score(
                classifier,
                masked_timecourses,
                classification_target,
                cv=cv,
                groups=session_labels,
                scoring="f1",
            )

            print(
                "%10s: %14s -- scores: %1.2f +- %1.2f, time %.2fs" %
                (
                    classifier_name,
                    category,
                    classifiers_scores[classifier_name][category].mean(),
                    classifiers_scores[classifier_name][category].std(),
                    time.time() - t0,
                ),
            )





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    ______________________________________________________________________
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
           SVC:       scissors -- scores: 0.41 +- 0.31, time 2.64s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
           SVC:           face -- scores: 0.58 +- 0.24, time 3.63s
           SVC:            cat -- scores: 0.60 +- 0.25, time 2.52s
           SVC:           shoe -- scores: 0.56 +- 0.23, time 2.65s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
           SVC:          house -- scores: 0.81 +- 0.28, time 1.53s
           SVC:   scrambledpix -- scores: 0.79 +- 0.17, time 3.03s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
           SVC:         bottle -- scores: 0.53 +- 0.21, time 3.02s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
           SVC:          chair -- scores: 0.42 +- 0.25, time 2.62s
    ______________________________________________________________________
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
        SVC cv:       scissors -- scores: 0.41 +- 0.31, time 25.29s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
        SVC cv:           face -- scores: 0.58 +- 0.24, time 22.55s
        SVC cv:            cat -- scores: 0.60 +- 0.25, time 23.72s
        SVC cv:           shoe -- scores: 0.56 +- 0.23, time 24.65s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
        SVC cv:          house -- scores: 0.81 +- 0.28, time 15.51s
        SVC cv:   scrambledpix -- scores: 0.79 +- 0.17, time 18.11s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
        SVC cv:         bottle -- scores: 0.53 +- 0.21, time 27.70s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
        SVC cv:          chair -- scores: 0.42 +- 0.25, time 25.58s
    ______________________________________________________________________
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
        log l1:       scissors -- scores: 0.43 +- 0.28, time 2.92s
        log l1:           face -- scores: 0.74 +- 0.13, time 1.45s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
        log l1:            cat -- scores: 0.63 +- 0.23, time 1.90s
        log l1:           shoe -- scores: 0.49 +- 0.19, time 1.76s
        log l1:          house -- scores: 0.89 +- 0.13, time 0.79s
        log l1:   scrambledpix -- scores: 0.69 +- 0.18, time 0.96s
        log l1:         bottle -- scores: 0.47 +- 0.15, time 2.28s
        log l1:          chair -- scores: 0.44 +- 0.14, time 1.98s
    ______________________________________________________________________
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
     log l1 50:       scissors -- scores: 0.43 +- 0.25, time 3.44s
     log l1 50:           face -- scores: 0.67 +- 0.13, time 1.29s
     log l1 50:            cat -- scores: 0.63 +- 0.18, time 2.33s
     log l1 50:           shoe -- scores: 0.48 +- 0.19, time 3.08s
     log l1 50:          house -- scores: 0.86 +- 0.11, time 1.00s
     log l1 50:   scrambledpix -- scores: 0.75 +- 0.19, time 0.95s
     log l1 50:         bottle -- scores: 0.49 +- 0.17, time 3.10s
     log l1 50:          chair -- scores: 0.46 +- 0.11, time 2.33s
    ______________________________________________________________________
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
     log l1 cv:       scissors -- scores: 0.35 +- 0.29, time 11.62s
     log l1 cv:           face -- scores: 0.70 +- 0.17, time 8.46s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
     log l1 cv:            cat -- scores: 0.52 +- 0.29, time 11.41s
     log l1 cv:           shoe -- scores: 0.49 +- 0.19, time 13.08s
     log l1 cv:          house -- scores: 0.84 +- 0.19, time 7.18s
     log l1 cv:   scrambledpix -- scores: 0.69 +- 0.16, time 6.56s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
     log l1 cv:         bottle -- scores: 0.41 +- 0.25, time 13.47s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
     log l1 cv:          chair -- scores: 0.44 +- 0.14, time 13.80s
    ______________________________________________________________________
        log l2:       scissors -- scores: 0.51 +- 0.15, time 2.89s
        log l2:           face -- scores: 0.55 +- 0.19, time 2.42s
        log l2:            cat -- scores: 0.54 +- 0.20, time 2.83s
        log l2:           shoe -- scores: 0.51 +- 0.17, time 2.68s
        log l2:          house -- scores: 0.63 +- 0.22, time 2.44s
        log l2:   scrambledpix -- scores: 0.78 +- 0.18, time 2.62s
        log l2:         bottle -- scores: 0.43 +- 0.20, time 2.87s
        log l2:          chair -- scores: 0.54 +- 0.17, time 2.54s
    ______________________________________________________________________
     log l2 cv:       scissors -- scores: 0.50 +- 0.15, time 20.82s
     log l2 cv:           face -- scores: 0.56 +- 0.20, time 19.09s
     log l2 cv:            cat -- scores: 0.55 +- 0.20, time 19.45s
     log l2 cv:           shoe -- scores: 0.51 +- 0.17, time 19.53s
     log l2 cv:          house -- scores: 0.64 +- 0.22, time 19.07s
     log l2 cv:   scrambledpix -- scores: 0.76 +- 0.18, time 19.13s
     log l2 cv:         bottle -- scores: 0.44 +- 0.21, time 24.27s
     log l2 cv:          chair -- scores: 0.53 +- 0.17, time 24.56s
    ______________________________________________________________________
         ridge:       scissors -- scores: 0.52 +- 0.22, time 0.23s
         ridge:           face -- scores: 0.62 +- 0.18, time 0.18s
         ridge:            cat -- scores: 0.43 +- 0.18, time 0.18s
         ridge:           shoe -- scores: 0.48 +- 0.21, time 0.18s
         ridge:          house -- scores: 0.90 +- 0.09, time 0.18s
         ridge:   scrambledpix -- scores: 0.79 +- 0.17, time 0.18s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
         ridge:         bottle -- scores: 0.41 +- 0.19, time 0.19s
         ridge:          chair -- scores: 0.50 +- 0.21, time 0.19s
    ______________________________________________________________________
      ridge cv:       scissors -- scores: 0.56 +- 0.26, time 1.31s
      ridge cv:           face -- scores: 0.70 +- 0.13, time 1.38s
      ridge cv:            cat -- scores: 0.54 +- 0.22, time 1.49s
      ridge cv:           shoe -- scores: 0.49 +- 0.18, time 1.32s
      ridge cv:          house -- scores: 0.90 +- 0.13, time 1.20s
      ridge cv:   scrambledpix -- scores: 0.85 +- 0.11, time 1.26s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
      ridge cv:         bottle -- scores: 0.46 +- 0.24, time 1.34s
    /home/kc/miniconda3/envs/nilearn-py37-latest/lib/python3.7/site-packages/sklearn/metrics/classification.py:1437: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 due to no predicted samples.
      'precision', 'predicted', average, warn_for)
      ridge cv:          chair -- scores: 0.51 +- 0.21, time 1.31s




Then we make a rudimentary diagram


.. code-block:: default

    import matplotlib.pyplot as plt
    plt.figure()

    tick_position = np.arange(len(categories))
    plt.xticks(tick_position, categories, rotation=45)

    for color, classifier_name in zip(
            ['b', 'c', 'm', 'g', 'y', 'k', '.5', 'r', '#ffaaaa'],
            sorted(classifiers)):
        score_means = [classifiers_scores[classifier_name][category].mean()
                       for category in categories]
        plt.bar(tick_position, score_means, label=classifier_name,
                width=.11, color=color)
        tick_position = tick_position + .09

    plt.ylabel('Classification accurancy (f1 score)')
    plt.xlabel('Visual stimuli category')
    plt.ylim(ymin=0)
    plt.legend(loc='lower center', ncol=3)
    plt.title(
        'Category-specific classification accuracy for different classifiers')
    plt.tight_layout()




.. image:: /auto_examples/02_decoding/images/sphx_glr_plot_haxby_different_estimators_001.png
    :class: sphx-glr-single-img





Finally, w plot the face vs house map for the different classifiers


.. code-block:: default


    # Use the average EPI as a background
    from nilearn import image
    mean_epi_img = image.mean_img(func_filename)

    # Restrict the decoding to face vs house
    condition_mask = stimuli.isin(['face', 'house'])
    masked_timecourses = masked_timecourses[
        condition_mask[task_mask]]
    stimuli = (stimuli[condition_mask] == 'face')
    # Transform the stimuli to binary values
    stimuli.astype(np.int)

    from nilearn.plotting import plot_stat_map, show

    for classifier_name, classifier in sorted(classifiers.items()):
        classifier.fit(masked_timecourses, stimuli)

        if hasattr(classifier, 'coef_'):
            weights = classifier.coef_[0]
        elif hasattr(classifier, 'best_estimator_'):
            weights = classifier.best_estimator_.coef_[0]
        else:
            continue
        weight_img = masker.inverse_transform(weights)
        weight_map = get_data(weight_img)
        threshold = np.max(np.abs(weight_map)) * 1e-3
        plot_stat_map(weight_img, bg_img=mean_epi_img,
                      display_mode='z', cut_coords=[-15],
                      threshold=threshold,
                      title='%s: face vs house' % classifier_name)

    show()



.. rst-class:: sphx-glr-horizontal


    *

      .. image:: /auto_examples/02_decoding/images/sphx_glr_plot_haxby_different_estimators_002.png
            :class: sphx-glr-multi-img

    *

      .. image:: /auto_examples/02_decoding/images/sphx_glr_plot_haxby_different_estimators_003.png
            :class: sphx-glr-multi-img

    *

      .. image:: /auto_examples/02_decoding/images/sphx_glr_plot_haxby_different_estimators_004.png
            :class: sphx-glr-multi-img

    *

      .. image:: /auto_examples/02_decoding/images/sphx_glr_plot_haxby_different_estimators_005.png
            :class: sphx-glr-multi-img

    *

      .. image:: /auto_examples/02_decoding/images/sphx_glr_plot_haxby_different_estimators_006.png
            :class: sphx-glr-multi-img

    *

      .. image:: /auto_examples/02_decoding/images/sphx_glr_plot_haxby_different_estimators_007.png
            :class: sphx-glr-multi-img

    *

      .. image:: /auto_examples/02_decoding/images/sphx_glr_plot_haxby_different_estimators_008.png
            :class: sphx-glr-multi-img

    *

      .. image:: /auto_examples/02_decoding/images/sphx_glr_plot_haxby_different_estimators_009.png
            :class: sphx-glr-multi-img

    *

      .. image:: /auto_examples/02_decoding/images/sphx_glr_plot_haxby_different_estimators_010.png
            :class: sphx-glr-multi-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    /mnt/c/Users/kshit/workspace/nilearn-org/nilearn-repo/kchawla-pi/nilearn/nilearn/plotting/displays.py:1596: MatplotlibDeprecationWarning: Adding an axes using the same arguments as a previous axes currently reuses the earlier instance.  In a future version, a new instance will always be created and returned.  Meanwhile, this warning can be suppressed, and the future behavior ensured, by passing a unique label to each axes instance.
      fraction * (x1 - x0), y1 - y0])
    /mnt/c/Users/kshit/workspace/nilearn-org/nilearn-repo/kchawla-pi/nilearn/nilearn/plotting/displays.py:1596: MatplotlibDeprecationWarning: Adding an axes using the same arguments as a previous axes currently reuses the earlier instance.  In a future version, a new instance will always be created and returned.  Meanwhile, this warning can be suppressed, and the future behavior ensured, by passing a unique label to each axes instance.
      fraction * (x1 - x0), y1 - y0])
    /mnt/c/Users/kshit/workspace/nilearn-org/nilearn-repo/kchawla-pi/nilearn/nilearn/plotting/displays.py:1596: MatplotlibDeprecationWarning: Adding an axes using the same arguments as a previous axes currently reuses the earlier instance.  In a future version, a new instance will always be created and returned.  Meanwhile, this warning can be suppressed, and the future behavior ensured, by passing a unique label to each axes instance.
      fraction * (x1 - x0), y1 - y0])
    /mnt/c/Users/kshit/workspace/nilearn-org/nilearn-repo/kchawla-pi/nilearn/nilearn/plotting/displays.py:1596: MatplotlibDeprecationWarning: Adding an axes using the same arguments as a previous axes currently reuses the earlier instance.  In a future version, a new instance will always be created and returned.  Meanwhile, this warning can be suppressed, and the future behavior ensured, by passing a unique label to each axes instance.
      fraction * (x1 - x0), y1 - y0])
    /mnt/c/Users/kshit/workspace/nilearn-org/nilearn-repo/kchawla-pi/nilearn/nilearn/plotting/displays.py:1596: MatplotlibDeprecationWarning: Adding an axes using the same arguments as a previous axes currently reuses the earlier instance.  In a future version, a new instance will always be created and returned.  Meanwhile, this warning can be suppressed, and the future behavior ensured, by passing a unique label to each axes instance.
      fraction * (x1 - x0), y1 - y0])
    /mnt/c/Users/kshit/workspace/nilearn-org/nilearn-repo/kchawla-pi/nilearn/nilearn/plotting/displays.py:1596: MatplotlibDeprecationWarning: Adding an axes using the same arguments as a previous axes currently reuses the earlier instance.  In a future version, a new instance will always be created and returned.  Meanwhile, this warning can be suppressed, and the future behavior ensured, by passing a unique label to each axes instance.
      fraction * (x1 - x0), y1 - y0])
    /mnt/c/Users/kshit/workspace/nilearn-org/nilearn-repo/kchawla-pi/nilearn/nilearn/plotting/displays.py:1596: MatplotlibDeprecationWarning: Adding an axes using the same arguments as a previous axes currently reuses the earlier instance.  In a future version, a new instance will always be created and returned.  Meanwhile, this warning can be suppressed, and the future behavior ensured, by passing a unique label to each axes instance.
      fraction * (x1 - x0), y1 - y0])
    /mnt/c/Users/kshit/workspace/nilearn-org/nilearn-repo/kchawla-pi/nilearn/nilearn/plotting/displays.py:1596: MatplotlibDeprecationWarning: Adding an axes using the same arguments as a previous axes currently reuses the earlier instance.  In a future version, a new instance will always be created and returned.  Meanwhile, this warning can be suppressed, and the future behavior ensured, by passing a unique label to each axes instance.
      fraction * (x1 - x0), y1 - y0])
    /mnt/c/Users/kshit/workspace/nilearn-org/nilearn-repo/kchawla-pi/nilearn/nilearn/plotting/displays.py:1596: MatplotlibDeprecationWarning: Adding an axes using the same arguments as a previous axes currently reuses the earlier instance.  In a future version, a new instance will always be created and returned.  Meanwhile, this warning can be suppressed, and the future behavior ensured, by passing a unique label to each axes instance.
      fraction * (x1 - x0), y1 - y0])





.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 9 minutes  21.843 seconds)


.. _sphx_glr_download_auto_examples_02_decoding_plot_haxby_different_estimators.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download

     :download:`Download Python source code: plot_haxby_different_estimators.py <plot_haxby_different_estimators.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: plot_haxby_different_estimators.ipynb <plot_haxby_different_estimators.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
